<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antibiotic vs Bacteria Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: black;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Bacteria {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.width = 40;
                this.height = 15;
                this.speedX = (Math.random() - 0.5) * 2;
                this.speedY = (Math.random() - 0.5) * 2;
                this.alive = true;
            }

            draw() {
                if (!this.alive) return;

                ctx.fillStyle = "red";
                ctx.beginPath();
                ctx.ellipse(this.x, this.y, this.width / 2, this.height / 2, 0, 0, Math.PI * 2);
                ctx.fill();

                // Draw two flagella
                ctx.strokeStyle = "red";
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(this.x - this.width / 2, this.y);
                ctx.lineTo(this.x - this.width, this.y - 10);
                ctx.stroke();

                ctx.beginPath();
                ctx.moveTo(this.x + this.width / 2, this.y);
                ctx.lineTo(this.x + this.width, this.y + 10);
                ctx.stroke();
            }

            move() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
            }
        }

        class Antibiotic {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.width = 20;
                this.height = 40;
                this.speedX = (Math.random() - 0.5) * 4;
                this.speedY = (Math.random() - 0.5) * 4;
                this.alive = true;
            }

            draw() {
                if (!this.alive) return;

                ctx.fillStyle = "white";
                ctx.beginPath();
                ctx.ellipse(this.x, this.y, this.width / 2, this.height / 2, 0, 0, Math.PI * 2);
                ctx.fill();
            }

            move() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
            }
        }

        function checkCollision(obj1, obj2) {
            return (
                obj1.x < obj2.x + obj2.width &&
                obj1.x + obj1.width > obj2.x &&
                obj1.y < obj2.y + obj2.height &&
                obj1.y + obj1.height > obj2.y
            );
        }

        let bacteria = [];
        let antibiotics = [];

        for (let i = 0; i < 5; i++) {
            bacteria.push(new Bacteria());
        }

        for (let i = 0; i < 3; i++) {
            antibiotics.push(new Antibiotic());
        }

        function update() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            for (let b of bacteria) {
                b.move();
                b.draw();
            }

            for (let a of antibiotics) {
                a.move();
                a.draw();
            }

            // Check for collisions
            for (let a of antibiotics) {
                for (let b of bacteria) {
                    if (a.alive && b.alive && checkCollision(a, b)) {
                        a.alive = false;
                        b.alive = false;
                    }
                }
            }

            requestAnimationFrame(update);
        }

        update();
    </script>
</body>
</html>